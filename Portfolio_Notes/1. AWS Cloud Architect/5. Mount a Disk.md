## Lect 7 and 8
## Mount a file system
- as a cloud architect we have to do
	- cost mgnt
	- resource mgnt
	- security mgnt
	- monitoring all as a partof job process
- suppose lets say sbi(client) wants to store data(million) in cloud because of chances of date lapse(due to fire accident or some other issue)
- simple solution is creating S3 bucket 
- but data is in millions and takes more time to upload
- so aws has a [4 solutions]

## 1. create S3 bucket- upload
- very slow and time taking process [see 3.1 for detailed process]

## 2. Transfer acceleration service by AWS
- [paid service]-only after approval from senior
- -->s3-->properties-->Transfer acceleration service-->edit-->enable
- good speed- but still not fast approach so
- and acessing aws console always is [not a good option] so company asks to use configure CLI in our pc and upload files

## 3. upload through CLI
- eventhough we upload through CLI keep Transfer Acceleration service enable

### Access CLI remotly on local pc
- //[if CLI is not installed 
	- google-->install aws CLI -->windows-->download and install]
- -->aws --version //[to check the staus of the CLI. after installing close the cmd prompt and open again]
-  go to cmd-->aws configure //* it will ask for the access key
- [never use the root account. always use the IAM user account]
- go to AWS console -->IAM user-->security credentials-->create access keys
- -->go to cmd
	- -->enter access key
	- -->enter secret access key
	- -->region//us-east-1
	- -->default output format-->table //[different formats available like json. table none etc..............]
- [all set now you hace acccess to the CLI on local PC]
- to verify-->aws s3 ls //[you will get list of buckets]

### To upload data through CLI - mostly used
- go to the path where data is stored using cd cmd //[one way]
- [another way]->open the file location(to upload)n desktop-->type cmd on the adress bar[easy and efficient]
- in cmd-->aws s3 ls //[print the list of buckets]
- -->aws s3 cp appp.jpg s3://mystaicbucketforpasswordpro  //[appp.jpg is the file to be uploaded and  mystaicbucketforpasswordpro is the bucket name]
- -->aws s3 cp * s3://mystaicbucketforpasswordpro //[* is for linux to upload all files in the location]
- -->aws s3 cp [local] [path]  [s3 uri] or // [3 different formats you can use this copy method]
- -->aws s3 cp [s3 uri]  [local path] or 
- -->aws s3 cp [s3 uri]  [s3 uri]
- go to aws s3 console and verify  

## 4. Mount S3 locally- drag and drop-efficient way for more data
- google-->rclone s3 bucket mount[open source tool]  [nakivo.com-->good blog-->follow the guide]
- [we are mounting on a windows pc]
- -->search powershell-->run as admin
- -->mkdir c:bsrclone[bs-->backslash--\]]  [create directory]
- -->cd c:bsclone
- -->invoke-WebRequest -Uri "https://downloads.rclone.org/v1.51.0/rclone-v1.51.0-windows-amd64.zip" -OutFile "c:\rclone\rclone.zip"**[download]
- --> ls
- -->Expand-Archive -path 'c:\rclone\rclone.zip' -destinationpath '.\' [extract]
- -->dir or ls
- -->cp C:\rclone\rclone-v1.51.0-windows-amd64\*.* C:\rclone\** [copy to other folder]
- -->.\rclone.exe config[config rclone]
- [you get 3 options
	- n-->new remote
	- s-->set config password
	- q-->quit config]]
- -->n [name of the bucket-->in our case s3://mystaicbucketforpasswordpro]
- it displays a list of cloud storage services 
- -->4  [select option 4: aws s3]
- -->1  [select option 1: aws ]
- -->1 [enter aws credentials]
- -->access key id:   [copy credentials]
- -->secret key:
- -->region :  1  [us-east-1]
- -->endpoint : press enter[default]
- -->location constraint : 1[us-east-1]
- -->acl : press enter[default]
- -->server side encryption: 1[no]
- -->sse_kms_key_id : 1 [no]
- -->storage class : 2 [standard]
- [you get edit advance config
	- yes
	- no --default
	- ]]
- -->n  [everything is set]
- -->type y [after checking everything shown]
- -->q quit
[ to mount a bucket you need a dependency-->winfsp software
	- google winfsp download-->install manuallyor cmd ]]
- to automate mount an s3 on windows boot[copy and paste the command below]
- -->C:\rclone\rclone.exe mount [blog-bucket01]:[blog-bucket01]/ S: --vfs-cache-mode full
- // [bucket name is your own bucket name : mystaticbucketforpasswordpro]
- // S: in the above command means drive name
- -->service rclone has been started
- -->ctr+c  [to stop the ]
- [for now i did not get the bucket in my pc try it later
- ...................................................video compleate]
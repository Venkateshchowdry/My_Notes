## Â installation in centos 8/ RHEL 8

### Technical zero to hero youtube channel

## MobaXterm
- application to [login to the server like we ssh from CLI to accesss server in terminal]
- -->select ssh
- -->remote host : Ansible-Server Public IP
- -->Specific user name : ec2-user[default]
- -->port : 22[default]
- -->advanced ssh settings-->use private key :Ansible-Key[select]
- -->Bookmark settings-->session name: Ansible-Server
- -->ok
- -->sudo su -[switch to root user]
- [we have python requirement for Ansible]
- // so 
## RedHat 
### Install Python
- -->yum install python3 [python installation]
- -->y -->complete
- -->python3 --version[to check whether python is installed in ansible server or not]
- [but usually we use cmd python --version cmd to check it is installed or not so we have to set path for that]
- -->alternatives --set python /usr/bin/python3 
- -->pyhton --version [now works perfectly]
- //we never work in root user so we will create a user and do work from there
- -->useradd sysadmin
- -->passwd sysadmin
- [it ask for pswd change --> so we change the password for that :admin123]
- -->visudo [we will see some lines of code and what other cmd we can do]
	- [delete the last line -->enter]
	- -->/root [search]
	- -->next -->next[check this since there is no screen change]
	- [find allow root to run any commands any where]
	- //here we have to add sysadmin below the root
	- -->sysadmin ALL=(ALL)  [tab]NOPASSWD: ALL
	- -->esc-->:wq![save cmd in linux]
- -->yum install vim -y [install vim]
- -->vim /etc/ssh/sshd_config[for password less authentication]
	- //we are inside the file
	- -->/password [means searching for the password word]
	- -->i [insert mode]
	- -->PasswordAuthentication : yes[change it to yes before it is no]
	- -->esc-->:wq! [save]
- -->systemctl restart sshd[service restart]
- -->su - sysadmin [switching user to sysadmin]
- -->whoami //now we are in sysadmin
## Install Ansible Server
- -->pip3 install ansible --user
- -->successfully installed[wait for 3 min]
- -->ansible --version [find the latest version]
- [we have to create a directory here]
- -->sudo mkdir /etc/ansible 
- -->cd /etc/ansible/ [now we are inside the ansible directory]
- -->pwd
## Adding inventory[hosts]
- file containing data about client servers-hosts-->/etc/ansible/hosts[file location]
- -->sudo vim hosts [opening new file hosts]
	- -->i [insert]
	- -->localhost [here we add machines]
	- //server 1 ansible_host=IP[in master -->server]
	- //ansible-python-interpreter=path[all : vars]
	- //ansible -inventory --list -y
	- //now we dont have any hosts so we are adding localhost
	- -->esc-->:wq! [save]
- --> ssh-keygen [creating key pair for local host]
- -->enter
- -->enter
- -->enter
- -->ssh-copy-id sysadmin@localhost
- -->yes
- -->password : sysadmin@123 [research about it]
- // now number of keys added is 1
- -->ansible all -m ping [m means module]
- [other cmds we can use]
- 
- //checking whether our ansible server is able to ping all the servers we addes to it
- [we will see our local host == success]
- // we can install or configure any thing on the local host



## Create Ec2 master instance
- -->go to ec2-->launch instance-->Red Hat Enterprise Linux 8 64 bit x86
- [like while installing VPN we choose powered by turn key for this redhat is the best server]
- or we can select any linux server-->ubuntu[personal favourite]
- //which ever server you choose but try to google their own cmds
- -->instance type-->t3. medium[depends on requirement]// for now select free tier
- -->key : name -->value : Ansible-Server [to access from anothe server]
- -->key pair : create a new key pair [Ansible-Key]
- // a key will get downloaded
- -->create security group-->allow ssh :port 22//default port
- //attatch security group - we can also change the ports later
- -->launch
- [just like the VPN server Ansible server is a different instance in aws]
- -->copy public ip of the Ansible-Server
- [open MobaXterm software tool]
## Create host instances[nodes]
[generally servers are already installed]
- select our ec2 instance
- -->actions-->image and templates-->launch more like this
- -->name : give different names
- -->every configuration is same 
- but mention the number instances :may be 3 or 4-->launch

### Communicate between them
now we have to communnate with out master server we can do this in multiple ways
- 1. from cmd prompt
- 2. using ec2 instance connect from aws console
	- -->select our instance
	- -->connect-->ec2 instance connect[same as CLI terminal]
- 3. using [third party app MobaXterm] for RedHat


[research]
password less authentication between ansible and hosts defined in hosts files
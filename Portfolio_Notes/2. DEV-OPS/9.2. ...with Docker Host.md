![[Pasted image 20221118154125.png]]

![[Pasted image 20221118154234.png]]
![[Pasted image 20221118154257.png]]


- pictures are placed since single picture is not visible
- I am doing this project with amazon linux 2
## 1. Create 3 ec2 instances
### 1. Jenkins-Server
- Install Jenkins and access through web browser[see 3]
##### Install Git
- -->yum install git* -y
#### add publish over shh plugin
- see 9.1
#### add ansible server and jenkins server in jenkins dashboard
- manage jenkins-->configure system-->ssh servers
- see 9.1


### 2. Ansible-Server-[configurations-server]
- -->sudo yum update
- -->amazon-linux-extras install ansible2
	- install ansible 
- -->ansible --version
- -->vi etc/ansible/hosts
	- i
	- [dockerhost]
	- pvt ip of docker host
	- esc-->:wq
#### make password less authentication between ansible and docker host
- see 9.1
#### Make password less authentication between jenkins and ansible server.
- see 9.1
#### installing docker
in this case we are building docker on ansible server
if we are building  docker file in jenkins then we have to install docker in the jenkin server- it will add burden on te server
- -->yum install docker
- -->systemctl start docker
- -->systemctl enable docker
- 
#### create a playbook
- vi playbook.yml
- 

### 3. Docker Host
- -->yum update
- -->yum install docker
- -->systemctl start docker
- -->systemctl enable docker

### 4. git hub 
#### Integrate github wit jenkins server
- 117e8113c270502756ffc505162241a83b 
	- webhook-token

### 5. Docker hub account
- user name : venkateshchowdary1@outlook.com
- password : Vs@architect2022


## create Jenkins-Job
- --> name :Birds-Docker-->freestyle project-->ok
- -->SCM : git hub url
	- branch : main
- -->Build Trigger : 
- -->Build steps : send files or execute cmds over ssh
	- -->name : jenkins
	- -->exe cmd : rsync -avh /var/lib/jenkins/workspace/BirdsDocker-job/Dockerfile  root@172.30.0.98:/opt
		- this cmd is working fine in cmd prompt but in jenkins it is showing an unstable build and not copying file to ansible server location
- so here i run the cmd in terminal and run[cp the docker file into the ansible server]
## second job
- in companies we will split the jobs so useing that technique here
- -->name : Build-Docker
- dont select any thing 
- select
	- -->Build Trigger : 